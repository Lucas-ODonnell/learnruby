def merge_sort(array)
    return array if array.length < 2

    middle = array.length/2 
    left = merge_sort(array[0...middle])
    right = merge_sort(array[middle..array.length])
    merge(left, right)
end

#helper method
def merge(left, right)
    if left.empty?
        right
    elsif right.empty?
        left 
    elsif left.first < right.first
        [left.first] + merge(left[1..left.length], right)
    else
        [right.first] + merge(left, right[1..right.length])
    end
end

array = [665, 723, 11, 52, 651, 735, 349, 411, 613, 
483, 906, 916, 852, 678, 345, 315, 699, 674, 595, 
611, 55, 270, 125, 660, 383, 163, 161, 974, 986, 583, 
429, 784, 597, 211, 215, 954, 495, 894, 374, 526, 799, 
72, 869, 300, 999, 357, 243, 979, 584, 801, 924, 401, 
615, 89, 9, 450, 481, 463, 888, 762, 214, 201, 220, 
50, 713, 580, 343, 981, 313, 966, 155, 711, 610, 587, 
484, 380, 859, 249, 778, 511, 629, 689, 341, 533, 189, 
536, 255, 567, 364, 763, 452, 299, 773, 557, 7, 432, 882, 
199, 333, 553, 848, 919, 127, 746, 989, 216, 690, 303, 192, 
51, 559, 992, 256, 976, 854, 198, 339, 857, 260, 395, 621, 603, 
733, 814, 552, 361, 638, 887, 704, 121, 279, 938, 935, 242, 316, 
18, 31, 911, 139, 719, 207, 910, 115, 191, 329, 740, 231, 520, 162, 
809, 36, 937, 676, 195, 710, 175, 760, 753, 157, 324, 105, 435, 725, 
807, 969, 646, 276, 5, 39, 599, 454, 624, 99, 808, 451, 667, 659, 320, 
277, 24, 657, 961, 394, 831, 544, 633, 515, 967, 560, 437, 459, 112, 408, 
75, 22, 645, 65, 172, 874, 781, 923, 527, 904, 23, 734, 2, 625, 684, 183, 37, 
834, 94, 596, 358, 637, 283, 901, 941, 275, 757, 295, 841, 593, 826, 971, 898]

puts merge_sort(array)